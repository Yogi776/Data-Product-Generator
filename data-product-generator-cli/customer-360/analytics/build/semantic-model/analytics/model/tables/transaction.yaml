tables:
  - name: transaction
    sql: {{ load_sql('transaction') }}
    description: Comprehensive transaction data for business analytics, reporting, and operational insights
    data_source: icebase
    public: true

    joins:
      - name: customer
        relationship: many_to_one
        sql: "{TABLE.customer_id} = {customer.customer_id}"
      - name: product
        relationship: many_to_one
        sql: "{TABLE.product_id} = {product.product_id}" 
    dimensions:
      - name: transaction_id
        description: "transaction_id field from transaction"
        type: number
        sql: transaction_id
        primary_key: true

      - name: customer_id
        description: "customer_id field from transaction"
        type: number
        sql: customer_id

      - name: product_id
        description: "product_id field from transaction"
        type: number
        sql: product_id

      - name: transaction_amount
        description: "transaction_amount field from transaction"
        type: number
        sql: transaction_amount

    measures:
      - name: total_transaction
        sql: transaction_id
        type: count
        description: "Total count of transaction records for business metrics and KPI calculations"
